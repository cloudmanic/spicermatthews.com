---
title: "Why I Built a CLI for Massive Financial Data"
date: 2026-02-16T10:00:00-07:00
draft: false
description: "MCP servers flood your AI agent's context window. A CLI doesn't. I built Massive CLI — a command-line tool for the Massive financial data API — because a single binary that outputs clean tables or JSON is a better fit for both humans and AI agents."
og_image: "/images/blog/massive-cli.jpg"
---

<!--
  Date: 2026-02-16
  Copyright (c) 2026 Spicer Matthews
-->

<p class="text-lg text-gray-700 leading-relaxed">
  I've been using the <a href="https://massive.com" class="text-blue-600 hover:text-blue-800 underline">Massive</a> financial data API for a while now. It's a solid API — real-time and historical market data across stocks, options, crypto, forex, futures, and indices. But every time I wanted to pull data, I was either writing throwaway scripts or wiring up an MCP server so my AI agent could fetch it for me.
</p>

<p>
  Both approaches had problems. Scripts are disposable. MCP servers flood your agent's context window with massive JSON payloads, eating up tokens and degrading response quality. And when something breaks, debugging is opaque — you can't see what the agent actually sent or received.
</p>

<p>
  So I built a CLI instead. I call it <a href="https://github.com/cloudmanic/massive" class="text-blue-600 hover:text-blue-800 underline">Massive CLI</a>.
</p>

<hr class="my-8 border-gray-300">

<h2>Why a CLI Instead of an MCP Server?</h2>

<p>
  This is the question I keep getting, so let me address it head-on. There are four reasons I chose a CLI over an MCP server:
</p>

<div class="grid grid-cols-1 md:grid-cols-2 gap-4 my-6">
  <div class="bg-blue-50 border border-blue-200 p-4 rounded-lg">
    <p class="font-bold text-blue-800 m-0">Context Window Friendly</p>
    <p class="text-blue-700 text-sm m-0 mt-1">MCP servers dump entire JSON responses into your agent's context, burning through tokens fast. A CLI lets you run targeted queries and pipe just the relevant output into the conversation.</p>
  </div>
  <div class="bg-green-50 border border-green-200 p-4 rounded-lg">
    <p class="font-bold text-green-800 m-0">Debuggable</p>
    <p class="text-green-700 text-sm m-0 mt-1">When an AI agent calls an API through an MCP server and something breaks, good luck figuring out what went wrong. With a CLI, you run the exact same command yourself and see the raw output in seconds.</p>
  </div>
  <div class="bg-purple-50 border border-purple-200 p-4 rounded-lg">
    <p class="font-bold text-purple-800 m-0">Works Everywhere</p>
    <p class="text-purple-700 text-sm m-0 mt-1">No SDK to install, no server to run, no configuration files to wire into your editor. Just a single binary that works in terminals, shell scripts, CI pipelines, and as a tool any AI coding assistant can shell out to.</p>
  </div>
  <div class="bg-amber-50 border border-amber-200 p-4 rounded-lg">
    <p class="font-bold text-amber-800 m-0">Human and Machine Readable</p>
    <p class="text-amber-700 text-sm m-0 mt-1">Every command outputs clean aligned tables for human scanning. Add <code>--output json</code> and you get machine-readable JSON for piping into <code>jq</code>, scripts, or AI context.</p>
  </div>
</div>

<div class="bg-blue-50 border-l-4 border-blue-500 p-4 my-6 rounded-r">
  <p class="text-xl font-medium text-blue-900 m-0 italic">
    "A CLI is the universal interface. Every language can shell out to it, every agent can call it, and every human can read its output."
  </p>
</div>

<hr class="my-8 border-gray-300">

<h2>What It Covers</h2>

<p>
  Massive CLI wraps the entire Massive API into a single binary. That means access to six major asset classes, real-time WebSocket streaming, bulk historical data downloads, and partner data sources — all from your terminal.
</p>

<div class="grid grid-cols-1 md:grid-cols-3 gap-4 my-6">
  <div class="bg-gray-50 border border-gray-200 p-4 rounded-lg">
    <p class="font-bold text-gray-800 m-0">Stocks</p>
    <p class="text-gray-700 text-sm m-0 mt-1">OHLC bars, snapshots, quotes, trades, news, fundamentals, corporate actions, SEC filings, technical indicators, and market status.</p>
  </div>
  <div class="bg-gray-50 border border-gray-200 p-4 rounded-lg">
    <p class="font-bold text-gray-800 m-0">Options</p>
    <p class="text-gray-700 text-sm m-0 mt-1">Aggregate bars, contract details, snapshots, option chains, trades, quotes, and technical indicators.</p>
  </div>
  <div class="bg-gray-50 border border-gray-200 p-4 rounded-lg">
    <p class="font-bold text-gray-800 m-0">Crypto & Forex</p>
    <p class="text-gray-700 text-sm m-0 mt-1">Bars, snapshots, trades, tickers, currency conversion, and technical indicators across global markets.</p>
  </div>
  <div class="bg-gray-50 border border-gray-200 p-4 rounded-lg">
    <p class="font-bold text-gray-800 m-0">Futures & Indices</p>
    <p class="text-gray-700 text-sm m-0 mt-1">Contracts, products, schedules, exchanges, snapshots, and aggregate data for futures and index markets.</p>
  </div>
  <div class="bg-gray-50 border border-gray-200 p-4 rounded-lg">
    <p class="font-bold text-gray-800 m-0">WebSocket Streaming</p>
    <p class="text-gray-700 text-sm m-0 mt-1">Real-time (or 15-minute delayed) streaming of trades, quotes, and aggregates across all asset classes.</p>
  </div>
  <div class="bg-gray-50 border border-gray-200 p-4 rounded-lg">
    <p class="font-bold text-gray-800 m-0">Flat File Downloads</p>
    <p class="text-gray-700 text-sm m-0 mt-1">Bulk historical data as gzipped CSV files via S3 — trades, quotes, and aggregates for backtesting and research.</p>
  </div>
</div>

<p>
  On top of that, there's partner data from <a href="https://www.benzinga.com/" class="text-blue-600 hover:text-blue-800 underline">Benzinga</a> (news, ratings, earnings), economic data (inflation, labor market, treasury yields), ETF analytics, and Canadian market data via TMX.
</p>

<hr class="my-8 border-gray-300">

<h2>Getting Started</h2>

<p>
  Installation is straightforward. If you're on macOS or Linux, Homebrew is the easiest path:
</p>

<div class="bg-gray-800 text-green-400 p-6 rounded-lg my-6 font-mono text-sm overflow-x-auto">
  <p class="m-0">$ brew tap cloudmanic/massive https://github.com/cloudmanic/massive</p>
  <p class="m-0">$ brew install massive</p>
</div>

<p>
  Then configure your API key:
</p>

<div class="bg-gray-800 text-green-400 p-6 rounded-lg my-6 font-mono text-sm overflow-x-auto">
  <p class="m-0">$ massive config init</p>
  <p class="m-0 text-gray-400"># Prompts for your Massive API key and optional S3 credentials</p>
</div>

<p>
  That's it. You can also set <code>MASSIVE_API_KEY</code> as an environment variable or drop it in a <code>.env</code> file — whatever fits your workflow. Pre-built binaries for macOS, Linux, and Windows are available on the <a href="https://github.com/cloudmanic/massive/releases" class="text-blue-600 hover:text-blue-800 underline">releases page</a> if you don't use Homebrew.
</p>

<hr class="my-8 border-gray-300">

<h2>How It Works in Practice</h2>

<p>
  The command structure is intuitive. You pick an asset class, pick a command, and pass in your parameters. Here are some examples I use daily:
</p>

<h3 class="text-lg font-semibold mt-6">Pull OHLC Bars for a Stock</h3>

<div class="bg-gray-800 text-green-400 p-6 rounded-lg my-4 font-mono text-sm overflow-x-auto">
  <p class="m-0">$ massive stocks bars AAPL --from 2025-01-01 --to 2025-01-31</p>
</div>

<p>
  This gives you a clean table of daily bars. Want weekly bars instead? Add <code>--timespan week</code>. Want JSON? Add <code>-o json</code>.
</p>

<h3 class="text-lg font-semibold mt-6">Check Today's Market Movers</h3>

<div class="bg-gray-800 text-green-400 p-6 rounded-lg my-4 font-mono text-sm overflow-x-auto">
  <p class="m-0">$ massive stocks snapshots gainers</p>
  <p class="m-0">$ massive stocks snapshots losers</p>
</div>

<h3 class="text-lg font-semibold mt-6">Get Company Fundamentals</h3>

<div class="bg-gray-800 text-green-400 p-6 rounded-lg my-4 font-mono text-sm overflow-x-auto">
  <p class="m-0">$ massive stocks fundamentals balance-sheet AAPL</p>
  <p class="m-0">$ massive stocks fundamentals income-statement AAPL</p>
  <p class="m-0">$ massive stocks fundamentals ratios AAPL</p>
</div>

<h3 class="text-lg font-semibold mt-6">Stream Real-Time Trades</h3>

<div class="bg-gray-800 text-green-400 p-6 rounded-lg my-4 font-mono text-sm overflow-x-auto">
  <p class="m-0">$ massive ws stocks trades AAPL MSFT</p>
  <p class="m-0 text-gray-400"># Press Ctrl+C to disconnect</p>
</div>

<p>
  The WebSocket streaming is particularly useful. You can subscribe to trades, quotes, or minute/second aggregates across any asset class. By default you get 15-minute delayed data — add <code>--realtime</code> if your subscription supports it.
</p>

<h3 class="text-lg font-semibold mt-6">Download Bulk Historical Data</h3>

<div class="bg-gray-800 text-green-400 p-6 rounded-lg my-4 font-mono text-sm overflow-x-auto">
  <p class="m-0">$ massive files list stocks trades --year 2024</p>
  <p class="m-0">$ massive files download stocks trades 2024-06-15 --output-dir ./data</p>
</div>

<p>
  This pulls gzipped CSV files from Massive's S3-compatible storage — perfect for backtesting or building research datasets.
</p>

<hr class="my-8 border-gray-300">

<h2>The AI Agent Use Case</h2>

<p>
  This is the use case I'm most excited about. I use <a href="https://docs.anthropic.com/en/docs/claude-code/overview" class="text-blue-600 hover:text-blue-800 underline">Claude Code</a> daily, and having a CLI that Claude can shell out to is far more practical than an MCP server for financial data.
</p>

<p>
  Here's why: when Claude needs stock data, it runs a command and gets back a focused result. It doesn't need to parse a massive JSON blob or manage an open connection. It just runs a command like any other tool:
</p>

<div class="bg-gray-800 text-green-400 p-6 rounded-lg my-6 font-mono text-sm overflow-x-auto">
  <p class="m-0 text-gray-400"># Agent pipes JSON into its context</p>
  <p class="m-0">$ massive stocks bars AAPL --from 2025-01-01 --to 2025-01-31 -o json | head -100</p>
  <p class="m-0">&nbsp;</p>
  <p class="m-0 text-gray-400"># Agent captures streaming data to a file for later analysis</p>
  <p class="m-0">$ massive ws stocks agg-minute --all -o json > market_data.jsonl &</p>
</div>

<p>
  The <code>--output json</code> flag is the key. Table output is great for humans; JSON output is great for agents and scripts. Same command, same data, different format. No adapter layer needed.
</p>

<div class="bg-blue-50 border-l-4 border-blue-500 p-4 my-6 rounded-r">
  <p class="text-xl font-medium text-blue-900 m-0 italic">
    "The best tool for an AI agent is the same tool that works for a human — just with a different output flag."
  </p>
</div>

<hr class="my-8 border-gray-300">

<h2>Under the Hood</h2>

<p>
  The tool is written in Go and built on <a href="https://github.com/spf13/cobra" class="text-blue-600 hover:text-blue-800 underline">Cobra</a> — the same CLI framework used by Kubernetes, Hugo, and GitHub's CLI. The architecture is clean and predictable:
</p>

<ul class="bg-gray-50 p-4 rounded-lg my-4">
  <li><strong>REST client</strong> — A straightforward HTTP client that authenticates with your API key and returns typed Go structs. Every command follows the same pattern: build params, call the API, render output as a table or JSON.</li>
  <li><strong>WebSocket client</strong> — Uses <a href="https://github.com/gorilla/websocket" class="text-blue-600 hover:text-blue-800 underline">gorilla/websocket</a> for streaming. Connects, subscribes to channels (trades, quotes, aggregates), and delivers messages until you hit Ctrl+C.</li>
  <li><strong>S3 client</strong> — Uses the AWS SDK to connect to Massive's S3-compatible endpoint for flat file downloads. List files by year/month, download gzipped CSVs by date.</li>
  <li><strong>Configuration</strong> — API keys stored at <code>~/.config/massive/config.json</code> with <code>0600</code> permissions. Environment variables take priority over the config file. Supports <code>.env</code> files.</li>
</ul>

<p>
  The whole project compiles to a single binary with no external runtime dependencies. CI/CD automatically cross-compiles for macOS (Intel and Apple Silicon), Linux, and Windows on every push to main.
</p>

<hr class="my-8 border-gray-300">

<h2>The Full Command Tree</h2>

<p>
  To give you a sense of how comprehensive the coverage is, here's the full command tree. Every endpoint in the Massive API is accessible from the terminal:
</p>

<div class="bg-gray-800 text-green-400 p-6 rounded-lg my-6 font-mono text-sm overflow-x-auto leading-relaxed">
  <p class="m-0">massive config init | show</p>
  <p class="m-0">massive stocks bars | open-close | market | snapshots | quotes | trades</p>
  <p class="m-0">massive stocks news | tickers | exchanges</p>
  <p class="m-0">massive stocks fundamentals balance-sheet | income-statement | cash-flow | ratios | ...</p>
  <p class="m-0">massive stocks corporate-actions dividends | splits</p>
  <p class="m-0">massive stocks filings sections | risk-factors | risk-categories</p>
  <p class="m-0">massive stocks indicators sma | ema | rsi | macd</p>
  <p class="m-0">massive stocks market-ops holidays | status</p>
  <p class="m-0">massive options bars | contracts | snapshots | trades | quotes | indicators</p>
  <p class="m-0">massive indices bars | snapshots | tickers | indicators</p>
  <p class="m-0">massive crypto bars | snapshots | trades | tickers | indicators</p>
  <p class="m-0">massive forex bars | convert | quotes | snapshots | tickers | indicators</p>
  <p class="m-0">massive futures bars | contracts | products | schedules | exchanges | snapshot</p>
  <p class="m-0">massive ws stocks | options | indices | crypto | forex | futures</p>
  <p class="m-0">massive files assets | types | list | download</p>
  <p class="m-0">massive benzinga news | ratings | earnings | guidance | analysts</p>
  <p class="m-0">massive economy inflation | labor-market | treasury-yields</p>
</div>

<hr class="my-8 border-gray-300">

<h2>Give It a Try</h2>

<p>
  The project is open source and available on GitHub: <a href="https://github.com/cloudmanic/massive" class="text-blue-600 hover:text-blue-800 underline">github.com/cloudmanic/massive</a>. If you have a <a href="https://massive.com" class="text-blue-600 hover:text-blue-800 underline">Massive</a> API key, you can be pulling data in under a minute.
</p>

<p>
  If you're using AI coding assistants like Claude Code and need financial data, I think you'll find this approach — a simple CLI with table and JSON output — far more practical than an MCP server. Your agent gets exactly the data it needs without blowing up its context window, and you can debug any issue by running the same command yourself.
</p>

<div class="bg-gray-800 text-white p-6 rounded-lg my-8">
  <p class="text-xl font-medium m-0">
    One binary. Six asset classes. Tables for humans, JSON for machines.
  </p>
  <p class="text-gray-300 m-0 mt-2 text-lg">
    That's the whole idea.
  </p>
</div>

<p>
  Star the repo, try it out, and <a href="https://github.com/cloudmanic/massive/issues" class="text-blue-600 hover:text-blue-800 underline">open an issue</a> if you run into anything. I'm actively developing this and shipping updates regularly.
</p>
